# “行业动态”模块 - 普通用户权限测试报告

**版本**: 1.0
**测试人员**: (您的名字)
**测试日期**: 2025-06-21

## 1. 测试目的
本文档旨在记录和验证“行业动态”模块中，**普通用户（`companyRole: 1`）** 的权限限制，确保其无法执行任何“写”操作，且“读”操作也受到相应约束。

## 2. 测试准备
- **测试环境**: 本地开发环境 (`http://localhost:8080`)
- **测试账号**:
    - 用户名: `test_normal_user`
    - 密码: `123456`
    - 权限: 已通过 `POST /api/users` 接口创建，角色为 **普通用户** (`companyRole = 1`)。
- **前置操作**: 已通过 `POST /api/v1/auth/login` 接口成功登录 `test_normal_user` 账号，并获取了有效的JWT Token。后续所有请求均在Headers中携带 `Authorization: Bearer <token>`。

## 3. 测试用例与结果

### 3.1 测试用例：发布动态（失败）

* **目的**: 验证普通用户**无权**发布新的动态。
* **请求**:
    * **方法**: `POST`
    * **URL**: `/api/news`
    * **请求体**: `{ "title": "普通用户尝试发布", "content": "..." }`
* **预期结果**: HTTP状态码 `403 Forbidden`。
* **实际结果**: **测试通过**。服务器成功返回`403 Forbidden`，正确地阻止了越权操作。

### 3.2 测试用例：修改动态（失败）

* **目的**: 验证普通用户**无权**修改任何动态。
* **请求**:
    * **方法**: `PUT`
    * **URL**: `/api/news/6` (使用任意一篇已存在的动态ID)
    * **请求体**: `{ "title": "普通用户尝试修改" }`
* **预期结果**: HTTP状态码 `403 Forbidden`。
* **实际结果**: **测试通过**。服务器成功返回`403 Forbidden`，证明权限控制有效。

### 3.3 测试用例：删除动态（失败）

* **目的**: 验证普通用户**无权**删除任何动态。
* **请求**:
    * **方法**: `DELETE`
    * **URL**: `/api/news/6` (使用任意一篇已存在的动态ID)
* **预期结果**: HTTP状态码 `403 Forbidden`。
* **实际结果**: **测试通过**。服务器返回`403 Forbidden`，符合预期。

### 3.4 测试用例：查询待审核动态列表（失败）

* **目的**: 验证普通用户**无权**查看待审核（`status=0`）的动态列表。
* **请求**:
    * **方法**: `GET`
    * **URL**: `/api/news?status=0`
* **预期结果**: HTTP状态码 `403 Forbidden`。
* **实际结果**: **测试通过**。服务器返回`403 Forbidden`，证明数据查询权限隔离有效。

## 4. 测试结论
普通用户角色的权限限制完全符合设计预期。其无法执行任何创建、修改、删除等写操作，也无法查看未发布的动态内容。模块对低权限角色的访问控制是健壮和严密的。